# import MakeAngle

# arr = MakeAngle.process_video()
# a = [[173.32038057995553, 169.59339108890964, 168.14869143304423, 167.55554549318862, 166.7360076621655, 166.3056455853632, 166.03935972961696, 167.24970819945247, 163.69011581603536, 166.58532830869422, 173.74940621089192, 173.2009446616656, 172.09826482928574, 174.45369259990954, 176.86744654676662, 176.96302145189702, 175.1422417515456, 173.5540234499527, 168.60838543271984, 178.25570024449226, 176.2573458563766, 179.95922566944793, 178.07626129467087, 178.05707340135612, 178.0076858242467, 177.547421731887, 178.75618753004846, 177.79902358815377, 164.9949109362493, 164.77685935401448, 162.39789776513473, 162.55661413706022, 157.80051235083033, 153.49863276757014, 150.90697836014886, 152.81766108113013, 153.3814740177584, 154.68834409363635, 153.04543755327123, 149.89215796168895, 150.70945501052097, 148.00261706398507, 149.67095864641848, 151.77860746859923, 155.23519117091732, 156.44960930972405, 157.92079435919203, 158.63029566225703, 158.0893432382967, 157.87621907779564, 157.7747229016602, 156.3101162284974, 154.22043712466285, 149.20854636642377, 110.91961882905582, 95.64676560554896, 82.09500765604945, 70.42490896996429, 49.667243062876636, 47.13430855186629, 45.158742423779934, 35.47850694321616, 32.19539191103128, 33.05711607365754, 32.960101791893656, 33.355607235063225, 32.521580066421585, 35.640143846865, 62.9036252987287, 81.99854425880513, 96.61356882165231, 115.23351429421244, 163.0453138159324, 174.0352513538139, 176.67997048361858, 179.05478681369112, 179.82154323942837, 179.66932737532767, 179.66228431288346, 179.48880597991516, 179.80798059792394, 178.80186795599587, 178.8249874461723, 178.83472547325718, 159.71872941662298, 137.50810261422404, 117.42078104106588, 100.29644915200362, 85.11754719736876, 75.40500578499956, 67.41750719164007, 58.52709546106115, 43.23780235574655, 39.15529061311826, 36.08124179931321, 34.38667783736757, 34.88364542828346, 34.78172559617644, 33.987023846068155, 33.45046669469533, 33.82790590627776, 34.423211507520385, 35.985184077864986, 38.73025101659635, 44.93465969059223, 50.45731335048543, 58.83516544158147, 100.3481941572841, 127.28699998997241, 144.86674552523354, 157.73919577701704, 165.59762618169384, 169.19348981470992, 178.61066075845733, 178.28177724028856, 172.65519940795434, 173.4708134477812, 173.7607066720835, 175.83659952720564, 177.51794156061428, 178.67369488213654, 179.54988674656713, 177.10261425776747, 173.5968211423729, 156.459454779964, 143.19346982230482, 138.83783538185767, 89.45602403812724, 73.56056964258818, 65.87823462826921, 59.818073097044085, 56.661515749174654, 52.85304292039239, 45.257528758948744, 40.874298153743204, 35.261520723561574, 34.600882925789016, 33.815653029284746, 33.640030526492225, 33.846580543409814, 34.030644624333426, 33.74707427574153, 40.163446111882074, 48.28258507669909, 55.800709949779055, 65.14395244227333, 77.42486856062256, 93.54740595750562, 108.43433643309538, 127.786186843269, 143.7408570223092, 162.62739131676233, 177.93325444722223, 175.4532854324674, 173.4926629344999, 172.20190312105248, 174.9692931273105, 177.20372446143662, 177.5671151423177, 178.54149837469072, 179.81676433076248, 178.93655006659242, 177.67864997505527, 175.4500986719158, 150.3445060374021, 133.45667383223957, 102.71358113034617, 88.63494851763527, 78.57202582678251, 69.15389401370555, 62.81605233674887, 50.80168517102199, 45.31814545808945, 42.315374038140135, 37.811806383939164, 35.601930833158214, 36.229776821288404, 34.53617185137064, 33.108339038321915, 32.812512429676055, 32.169673601111086, 32.48632528949835, 32.07636395045977, 32.31053604885314, 34.01581874251561, 36.85418419828283, 43.93556957543515, 51.14295469897142, 73.36299481676997, 88.61176103635637, 103.01424830934963, 117.0321911765861, 127.63222863054084, 151.38443586206216, 160.9289117358047, 179.68838426097616, 179.30226161997055, 179.60963985368474, 178.79509731139228, 179.34811646890174, 179.93599988711568, 178.6745774065112, 176.71345987780774, 176.5191320625101, 175.81604417499625, 176.07556924570588, 175.13990693037462, 174.71932392735854, 172.63457554135942, 168.25436855604175, 117.30823750301124, 93.95692601162577, 84.52530586688688, 74.9890229416866, 67.47740342689062, 60.55871906804589, 46.562353788929116, 37.65417318267602, 33.7081720294383, 32.84713997853274, 33.199727356699626, 34.00032729889026, 33.95734979563423, 32.775055045666846, 31.9612427192917, 31.777959803113728, 31.17758291032491, 31.68514332464651, 32.89365988006335, 36.25146028844789, 42.30809252589399, 50.251771874463245, 58.44380941368284, 91.5149095660443, 98.67285541136182, 127.41385676216308, 142.84112411199007, 156.2198507015072, 163.99036385359616, 171.1552564446038, 176.68319096124267, 178.089176245704, 179.10327780921017, 179.8373744877561, 179.31673471312897, 179.72088114352644, 179.21541830433858, 178.65518218095085, 178.92347522303277, 178.17648509871654, 177.17933449638124, 175.31279928998123, 173.31356083078467, 166.49697333988226, 154.8110707634538, 102.87419357104758, 86.67436008932827, 75.52342742886094, 64.83743992840435, 57.01286941468272, 53.652860966440365, 50.54651252676306, 38.67170403970034, 38.73177120871421, 37.05776199281639, 37.24820732669683, 35.55971387036641, 35.7715443576113, 36.7058635419808, 36.61853736650663, 38.853109837278595, 43.73817165642178, 50.933055753268675, 56.16089280611777, 64.00086687116865, 74.05358259576704, 85.09630420486089, 143.12545490785016, 159.16039040870683, 167.71187703627223, 172.33433199203483, 176.59486729811042, 179.01443738256313, 179.6858000629602, 177.35766608166247, 178.09308494333203, 178.65997364360007, 179.0368741883187, 178.33396911321566, 176.22412740873466, 171.6507464304729, 164.30568089640917, 114.49186234442475, 96.33131308472157, 85.33279688721184, 77.55755648833357, 69.2082714831186, 62.90229890054877, 55.87511293486204, 51.280322616335454, 42.0041812954361, 38.92991604100236, 34.2180473831544, 31.921715604184627, 30.789753002001035, 31.07785445308023, 31.214750275717535, 30.432128777066765, 29.094270745292288, 28.583815076768577, 27.889631951221467, 27.13544376545644, 33.484779724584534, 67.88817396936791, 95.20496695837242, 106.08106606348221, 115.45328351147933, 121.28513112311352, 130.07394033455296]]


# a = [[179.19674920318624, 132.1916038914305, 123.84887391549012, 127.16961798108821, 127.71314464887661, 130.74965349328374, 133.22191033846093, 134.37570607971927, 129.7601311936268, 129.78900290374267, 126.56389104858914, 128.50177295744854, 125.90921580776089, 108.3267032346588, 168.29417207539723, 175.70285381390687, 171.65962714546558, 171.36108151113228, 171.96337173972807, 173.829756998102, 175.9389604798017, 176.89508605908838, 178.08531088458213, 179.652054691674, 179.21479035168264, 179.05178047236558, 178.46995232974587, 179.7845191199173, 179.51061083423915, 169.6914146623714, 165.49830443474218, 153.46436549277374, 159.9130599287231, 164.6463194295608, 170.50577731720642, 176.59665557129205, 177.01923559242172, 177.75544232793453, 177.49279064527286, 176.94545816080827, 178.14027925421368, 177.87634506968095, 177.79580037475722, 177.40525325287922, 177.01190075364386, 177.00231398514788, 177.62457311580982, 178.9085164768363, 176.62629928137295, 176.47083288567023, 176.22388944466675, 176.2431253799229, 176.15885618358033, 175.97797074609954, 177.36970247052906, 179.20129013600786, 179.92802641627983, 179.74764122625834, 178.6196433977305, 178.36391646044487, 178.5883621564903, 177.8660146715298, 176.6367228588866, 176.5016541561719, 175.85070441973852, 173.08608960613745, 172.8799534251574, 171.747911825737, 171.63246630194232, 169.81054973965976, 169.272319423169, 168.40358104144215, 168.17175644876943, 168.28490052928237, 167.52276196054197, 176.84472206267412, 176.84838375846704, 175.48180008233052, 176.8171888557943, 175.5017831571947, 172.91980105669762, 172.57788860295787, 171.84784976841397, 167.3390994545005, 168.5667851217852, 168.80577444391318, 168.82422170997145, 169.9832481631884, 170.91048290546394, 169.56608646402967, 172.24724027345567, 175.06409026887854, 176.70688236755524, 132.68924972175603, 87.5064144014334, 22.63347955556562, 6.903857399613274, 9.63918416848733, 109.82484263004812, 150.8073661480249, 138.27810836871174, 129.57962950929866, 129.0223556654763, 119.29714972762227, 44.53963325931122, 46.236565126115764, 50.24978396346889, 58.335104511153446, 59.18861683187, 58.156115428314465, 58.42860067588539, 38.21577083810664, 50.409279794070024, 46.540208685540236, 41.35032209284064, 33.54004022748801, 50.67869637360036, 29.160792925309504, 40.063103590288506, 49.578049069798624, 99.82815975092876, 169.90647624066472, 172.46816326792302, 174.32103300244017, 174.9976730195046, 175.25565101900966, 175.1410431931068, 174.51593306943946, 173.89544366061264, 171.16383168067307, 170.4834370599255, 169.2018236587778, 168.26146546866352, 170.46240453260847, 171.45382018135464, 172.4562429444937, 173.38833358428235, 171.0536072798828, 169.97517198529243, 168.37992393578037, 168.01096431447735, 168.35052016863992, 168.53697592419908, 168.57504972661965, 168.6061020289104, 167.68105537003063, 163.99474848533023, 163.2828583582957, 162.32478153230124, 161.47020983968073, 161.31002337726034, 163.38084492331623, 164.88045259293818, 165.10552734324833, 165.4563400402392, 165.72066676774472, 164.44435279483113, 165.41983954585496, 168.54249558149843, 169.73690604340095, 168.95130781777806, 168.25155718825593, 167.333121038638, 166.22986495895526, 167.4186885150041, 167.15671817134952, 165.99614301777208, 162.49857094093224, 159.40357264788295, 140.849462168756, 132.17126832070278, 129.03357980962463, 128.32680180835928, 120.85677530293415, 116.96108808759047, 104.46052100865663, 99.45902400190533, 96.28483120564391, 94.55215995474492, 91.06543350802369, 91.05509752011245, 90.10710175321684, 90.13932869450947, 90.19263068160795, 91.89147961137486, 92.40751623052154, 92.68516421223, 99.90501449877064, 106.82708938921695, 114.15268946314933, 128.47545845072838, 147.92182299872093, 156.31016412242846, 161.05032875951923, 164.9359733896063, 170.06628424251244, 171.97913633694967, 172.06820446606287, 172.98340281351105, 175.03966459917157, 175.43935623858746, 175.49544357743355, 175.1322806191019, 174.6555521673453, 174.01145413240678, 173.884313165032, 173.74584128037685, 174.50049702126603, 175.5113710371434, 175.65343694433489, 175.24653610727657, 174.06966858813544, 172.54660632756267, 171.4795787733753, 169.26792719412154, 166.50916608735366, 153.09182348594808, 148.05068829592338, 143.0725122263781, 137.2845548930401, 113.53769983046041, 103.94997629400348, 97.65194708734919, 94.03459640011862, 89.89189597000168, 85.94865363577169, 79.73335777886268, 78.59488005733814, 77.69671559256756, 76.99624320262065, 76.84400428729938, 76.85206333579264, 77.44473124262512, 78.23353532554611, 79.10957920082421, 79.74631819325039, 80.08808066336836, 90.76570533950128, 97.63963654222113, 101.08550790820391, 108.77123882860926, 114.8402645959923, 119.46137808645196, 146.1240400906023, 158.38281744512594, 161.1102583041296, 162.51468082116398, 166.1500082422984, 171.50046692993953, 171.66939663929173, 173.78731498267734, 173.82409011545394, 175.1082418346058, 175.97291426286515, 175.78566609672808, 175.35136376631567, 175.59663378891756, 175.75130336020018, 175.17715999540206, 174.38398787014629, 174.37748968449836, 174.79984334785382, 175.00791392545517, 176.1609352690075, 175.96344509967713, 174.78434744819123, 172.12415270963962, 168.4983155144926, 166.2964758466947, 164.69394262243546, 161.83417153874507, 142.9033184804946, 133.12295834719842, 126.15477033385241, 115.4527474070969, 100.70532526103221, 94.45337455306469, 91.62167820541539, 90.49943018149592, 89.02922175832644, 90.80083062372445, 85.18947972547363, 85.00943297211009, 85.31715458849168, 86.09847335478895, 88.3767410369517, 88.44186136698953, 88.8628929174539, 89.27890625789006, 99.06982864541726, 103.71362743742708, 116.12463864327299, 122.9360838274221, 128.84533811714638, 136.52799465897985, 147.4101451278805, 152.69315289546813, 157.52038451964265, 171.14114764509452, 173.52533475958467, 173.88600768355752, 175.04354058895473, 174.16707177888543, 174.6068811915822, 174.57788072912496, 175.05980214375495, 174.38762549282714, 174.3798826180346, 174.95914790917217, 174.6152797382142, 173.90555211459142, 173.89220810641618, 173.47471566888453, 173.46345392966086, 172.6510553887518, 170.34487705978353, 167.0956874322017, 158.5070746965779, 154.76831482459534, 149.5808307291747, 136.04733558916635, 127.65682263965184, 113.98959147262815, 108.72814829219712, 104.0828585191235, 100.74182590773682, 98.39795134719373, 89.93864302946493, 88.87822113453379, 87.95876084758453, 86.67298725777263, 88.8358244935351, 89.68898666504326, 92.30567955188916, 92.80597477448131, 110.74578709525784, 120.07629258365262, 158.53367643134254, 148.4569774704969, 153.4392278464491, 167.2595133965465, 169.13460853596558, 172.35972667990274, 172.44132782386163, 172.53022548701273, 172.66045257023757, 172.6032462297889, 172.00852325902682, 172.62704352346674, 173.44541426552888, 174.50518646326387, 176.6660021758461, 177.01690652080177, 179.5487736706167, 179.4216485002474, 178.6038036047021, 176.4810660852951, 175.73613562912837, 176.23134793722997, 175.02252660290435, 174.97760534565393, 174.89341767241834, 174.32736361894882, 175.17610706032855, 175.71121626336688, 176.33625014527803, 175.7802006461363, 178.15113494171646, 177.76737650152813, 177.41389418630075, 175.8761888451848, 175.29289164649373, 172.62700939414083, 171.44217637739666], [103.66800839438878, 154.31658351414487, 136.82007927459975, 139.4479526675076, 139.1070806502512, 142.013099492955, 144.94116361322617, 146.4954635978053, 141.0952652986151, 141.87453588495217, 138.75543637146052, 139.5142436594858, 137.42531624076517, 126.29321804285007, 165.98508231313917, 165.47385255078714, 175.62405415218402, 174.99955142650435, 179.90798738788015, 179.3853367711273, 179.94715654902888, 179.70214115883425, 178.65559312449022, 177.5018450004857, 176.59499832310317, 177.87519993379635, 176.43533907162174, 179.27472449211857, 179.85066237274404, 170.84051383480778, 159.07337026238733, 132.8813065122238, 145.97765305228432, 151.0796173871064, 162.02355308178238, 171.59421759819747, 174.90865480532716, 177.3622614485037, 178.72655556874437, 178.31001711276028, 174.7212685758269, 179.92517696864482, 179.70475944317857, 179.2165656725414, 178.15831587703514, 178.07433423239974, 179.64248968465768, 176.2031241877317, 179.95466566626828, 179.92121821319515, 179.05543856647358, 178.8504237396244, 178.5361110601696, 178.52683347737843, 179.99932455267796, 178.57906724047936, 178.80871121315369, 179.2712615866888, 176.4466704991103, 175.11829344156212, 175.28893958478838, 177.46225673371436, 178.60387376739732, 178.108894325167, 178.57799630697983, 179.915259537856, 179.91150188981112, 179.62179030438736, 179.213715257993, 178.80254941845251, 178.96389482378353, 179.4646122719994, 179.9991726316501, 178.44159861241536, 179.03706796748253, 164.75751108519495, 167.310879289393, 168.3828606406377, 167.6308646450538, 175.05204618929884, 175.53050372512817, 176.83620735732126, 179.12763225482843, 177.21916613269738, 177.04670864611023, 178.31401328306345, 175.96780433790155, 171.72896206888754, 171.20776381501923, 171.93465387740972, 172.00311690090103, 171.96403708622032, 170.75611842011276, 60.0092305621126, 12.827188512039069, 137.5207749575809, 93.56071079083458, 104.67447596416464, 0.33149078247360586, 28.485877358532136, 21.483633226365075, 10.862958650792253, 14.264569010825722, 13.594892677453922, 161.15689151528616, 131.8305484715776, 104.7737536441534, 162.70666946470237, 154.60048102553685, 86.4098805268163, 171.8860066196503, 150.2905364553111, 129.37380464066052, 58.77794716089213, 83.12217649594989, 89.99936505133451, 67.87021423401211, 45.12015988950829, 4.7514699323192735, 19.496408550018774, 42.81320321237064, 160.6040274963325, 163.32990559582993, 165.08279315619478, 166.04208854283786, 165.26109865453662, 165.39034384758406, 165.0208864164885, 165.50923743743033, 163.82853145761032, 162.47845810211444, 161.74130197797774, 160.89921720681107, 163.99851058500707, 164.67820797225633, 165.68727950659013, 165.9260195296262, 163.14468501418872, 161.64070550503556, 160.86896622030943, 160.5367861662577, 160.74063013073075, 160.81297804300814, 160.33802339546605, 160.75412982039808, 160.18441823097675, 157.69546907245115, 157.37199653055953, 156.97144304099083, 154.54823476719548, 153.8594596776069, 156.26632696261686, 158.0236674876574, 158.603601756878, 160.0458040304016, 158.33299053629958, 156.2361423275137, 158.48971190486182, 161.82683260199565, 163.26995448569411, 162.9430977701075, 162.12417958705865, 160.33937028529581, 159.79679061997086, 160.7423325879304, 158.99439973812048, 155.7320544465882, 151.18789454010437, 145.826095780595, 116.35362705037284, 106.99312532278717, 104.973373388314, 104.74517510165245, 93.20989480830745, 91.29265816928533, 79.55687422428076, 75.88059900433137, 74.3100505179714, 72.16779280062892, 67.89033430915866, 67.66635374554252, 66.79514422283636, 67.17650618182165, 67.40695582544704, 69.16496526577995, 70.14601745659242, 70.76730928217182, 76.34145215119355, 80.82020413147508, 88.15327115324882, 102.7890270349651, 119.47739872574313, 127.02030193285718, 134.15819014002764, 142.77242686809015, 159.00452223257284, 162.24862617117836, 162.69832008436745, 163.99955276352352, 165.847231224938, 166.66650697438305, 165.82047646611355, 165.53645997418272, 165.81749647174163, 165.54418889013226, 164.4205931013038, 163.68854462745617, 164.64512299016266, 165.86369036169202, 166.31912160540583, 165.84939617509522, 165.62703716495704, 163.98739690232227, 162.96805319253363, 159.98914454877385, 154.2704765636661, 128.18443459950382, 120.79244632917867, 113.99185262604679, 107.72660263837182, 86.48778231051048, 81.94251503466147, 79.32567322682895, 75.64565604874454, 71.11094026287888, 67.81444085743478, 66.14188537285894, 69.46928832200524, 65.94387639623687, 65.02706441625874, 68.09457594858877, 66.9742943114378, 66.94667265967293, 66.9049718991964, 67.14585080433291, 67.61062614546957, 67.6811834937727, 75.65359949252378, 80.90641669947459, 83.09784827972952, 86.00994363693226, 89.09406886863496, 91.08013935347014, 121.07490452891072, 136.24381757587187, 137.60467283105228, 140.87213830764824, 149.38690056230155, 160.10197086786985, 161.0640243155572, 163.19918457656146, 163.78182743185616, 164.7884286281949, 166.16835978138232, 166.23117281937326, 167.22135479867356, 168.03243438817194, 167.85450312168854, 166.06173344471568, 165.32353943178168, 165.8003903514084, 165.7403039678353, 164.3613917875787, 165.340388936883, 165.54521854009803, 163.855426250072, 162.183237596392, 156.09701167463942, 146.0873683481743, 141.7753365018353, 136.93165738508566, 110.75356580695463, 100.41477641968827, 93.43448821122588, 84.3367349500517, 76.9663820001143, 75.59561384343193, 69.53867672079627, 67.40030812245051, 65.85710428092851, 68.68418628159566, 66.63191018041175, 67.7974403093597, 68.30734933039736, 67.6068701081936, 68.32335212470974, 67.84087380396866, 67.97625376660913, 68.83251912492233, 78.27199385143396, 83.4591138379268, 95.62176817673601, 100.51205618222006, 106.51384843426024, 114.31855230475873, 124.5304562413101, 129.75935127955114, 135.53411104273508, 157.74818410313532, 163.25552222717937, 165.3212966357125, 166.855747562084, 166.18368725221708, 165.92046759322363, 166.52140406658344, 166.8348467920413, 166.46961523629616, 167.3500952727101, 166.7384397322155, 166.24172017206936, 165.70953211018585, 166.18472589083524, 165.56564128074476, 166.44078999575137, 165.84507205467682, 162.69575841794764, 155.53699344431448, 137.8767890675312, 130.40344065372244, 120.35560865322034, 105.29552147648575, 94.65173790777143, 82.47066510178664, 78.15796563295132, 75.8995370994101, 75.94431695331406, 73.18907862575931, 66.7194094356332, 66.86713045679997, 64.09056199687686, 62.801463500523695, 65.53572667556087, 66.4612892948504, 68.25525912683395, 68.98947025111012, 87.14767587495565, 94.41167919520237, 146.7162351397693, 129.10879021803422, 133.11010847108807, 150.16993811849625, 154.85585998041017, 163.55782360378169, 163.9716964299779, 164.30652625980238, 164.97188669721564, 164.69623572207328, 163.4597878009141, 164.06888117401974, 165.3918941303491, 165.18888066158812, 165.01438063775458, 164.61654473801673, 165.9207980767119, 166.86004591534936, 167.60595693169532, 170.00800644194183, 171.19781828044376, 170.57152355088584, 172.18826699024405, 173.2276302976589, 173.75309836414712, 175.19413892772525, 173.63481077851677, 174.47602911890652, 175.65960250376202, 177.77061593548584, 171.62616452161623, 171.04789126458564, 171.64801570938351, 173.91954645351632, 176.15140020808008, 177.37402991636256, 179.72599196766427]]
# def cleanup(arr):
#     nested_array_integers = [[int(value) for value in sublist] for sublist in arr]

#     return nested_array_integers
def cleanup(arr):
    nested_array_integers = []
    for sublist in arr:
        integer_sublist = []
        for value in sublist:
            try:
                int_value = int(float(value))
                integer_sublist.append(int_value)
            except ValueError:
                print(f"Warning: '{value}' is not a number and will be skipped.")
        nested_array_integers.append(integer_sublist)
    print(f"Cleaned Data: {nested_array_integers}")  # Debugging print statement
    return nested_array_integers


# def rearranging_array(arr):
#     res_arr = []
#     n = len(arr[0])
#     for i in range(n):
#         res = []
#         for j in arr:
#             res.append(j[i])
#         res_arr.append(res)
#     res_arr.append(n)
#     return res_arr
# def Algorithm(angle_arr):
#     if not angle_arr or not angle_arr[0]:
#         return []  # Handle the case when angle_arr is empty or sub-arrays are empty

#     inflection_points_final = []

#     for i in range(0,len(angle_arr[0])):  # Iterate over columns
#         inflection_points = []
#         base = angle_arr[0][i]  # Initialize base for each sub-array
#         current_direction = 0  # Not set right now, if the angle is increasing then the value will be 1 otherwise -1

#         for j in range(1, len(angle_arr)):  # Start from the second element
#             difference = angle_arr[j][i] - base
#             if difference > 0:
#                 if current_direction <= 0:
#                     inflection_points.append(base)
#                     current_direction = 1
#                 base = angle_arr[j][i]
#             elif difference < 0:
#                 if current_direction >= 0:
#                     inflection_points.append(base)
#                     current_direction = -1
#                 base = angle_arr[j][i]
#             elif difference == 0:
#                 base = angle_arr[j][i]

#         inflection_points.append(angle_arr[-1][i])  # Add the last angle of the sub-array
#         inflection_points_final.append(inflection_points)

#     return inflection_points_final
# angles = rearranging_array(arr)
def find_inflection_points(arr):
    inflection_points_all = []
    for sublist in arr:
        inflection_points = [sublist[0]]  # Start with the first element

        for i in range(1, len(sublist) - 1):
            if (sublist[i] > sublist[i - 1] and sublist[i] > sublist[i + 1]) or (sublist[i] < sublist[i - 1] and sublist[i] < sublist[i + 1]):
                inflection_points.append(sublist[i])

        inflection_points.append(sublist[-1])  # End with the last element
        inflection_points_all.append(inflection_points)

    return inflection_points_all

# Example usage
# a = [[1, 4, 5], [4, 86, 74], [9, 3, 67]]
# inflection_points = find_inflection_points(a)
# print(inflection_points)

# b = cleanup(a)
# c= find_inflection_points(b)
# print(c)

